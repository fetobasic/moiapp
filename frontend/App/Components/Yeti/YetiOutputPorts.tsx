import React from 'react';
import { View, Text, StyleSheet } from 'react-native';
import Svg, { Path, SvgProps } from 'react-native-svg';

import { PortStatusRow } from 'App/Components';
import V120 from 'App/Images/Icons/v120.svg';
import Usb from 'App/Images/Icons/usb.svg';
import { Colors, Fonts, Metrics } from 'App/Themes';
import { isYeti300500700, isYeti20004000, isYeti10001500 } from 'App/Services/ThingHelper';
import { DeviceState } from 'App/Types/Devices';

type YetiOutputPortsProps = {
  device: DeviceState;
  isDisabled?: boolean;
};

const V12 = ({ color = 'white' }: { color: string }) => (
  <Svg width="57" height="34" viewBox="0 0 57 34" fill="none">
    <Path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M0 16.82C0 7.53057 7.53057 0 16.82 0C26.1094 0 33.64 7.53057 33.64 16.82C33.64 26.1094 26.1094 33.64 16.82 33.64C7.53057 33.64 0 26.1094 0 16.82ZM16.82 1.64C8.43632 1.64 1.64 8.43632 1.64 16.82C1.64 25.2037 8.43632 32 16.82 32C25.2037 32 32 25.2037 32 16.82C32 8.43632 25.2037 1.64 16.82 1.64ZM41.7118 7.99332H42.1842H50.9114H51.3838L51.62 8.40241L55.9836 15.9604L56.2198 16.3695L55.9836 16.7786L51.62 24.3367L51.3838 24.7458H50.9114H42.1842H41.7118L41.4756 24.3367L37.112 16.7786L36.8758 16.3695L37.112 15.9604L41.4756 8.40241L41.7118 7.99332ZM42.6565 9.62968L38.7653 16.3695L42.6565 23.1094H50.4391L54.3303 16.3695L50.4391 9.62968H42.6565ZM41.3661 16.084C41.3661 13.2222 43.6861 10.9022 46.5479 10.9022C49.4097 10.9022 51.7297 13.2222 51.7297 16.084C51.7297 18.9459 49.4097 21.2658 46.5479 21.2658C43.6861 21.2658 41.3661 18.9459 41.3661 16.084ZM46.5479 12.5386C44.5898 12.5386 43.0024 14.1259 43.0024 16.084C43.0024 18.0421 44.5898 19.6295 46.5479 19.6295C48.506 19.6295 50.0933 18.0421 50.0933 16.084C50.0933 14.1259 48.506 12.5386 46.5479 12.5386ZM45.0023 16.0844C45.0023 15.2309 45.6942 14.5389 46.5478 14.5389C47.4013 14.5389 48.0932 15.2309 48.0932 16.0844C48.0932 16.9379 47.4013 17.6298 46.5478 17.6298C45.6942 17.6298 45.0023 16.9379 45.0023 16.0844ZM46.5478 16.1753C46.598 16.1753 46.6387 16.1346 46.6387 16.0844C46.6387 16.0342 46.598 15.9935 46.5478 15.9935C46.4976 15.9935 46.4569 16.0342 46.4569 16.0844C46.4569 16.1346 46.4976 16.1753 46.5478 16.1753Z"
      fill={color}
    />
  </Svg>
);

const V12Legacy = ({ color = 'white' }: { color: string }) => (
  <Svg width="55" height="41" viewBox="0 0 55 41" fill="none">
    <Path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M37.3084 3.19818C28.019 3.19818 20.4884 10.7288 20.4884 20.0182C20.4884 29.3076 28.019 36.8382 37.3084 36.8382C46.5978 36.8382 54.1284 29.3076 54.1284 20.0182C54.1284 10.7288 46.5978 3.19818 37.3084 3.19818ZM22.1284 20.0182C22.1284 11.6345 28.9247 4.83818 37.3084 4.83818C45.6921 4.83818 52.4884 11.6345 52.4884 20.0182C52.4884 28.4019 45.6921 35.1982 37.3084 35.1982C28.9247 35.1982 22.1284 28.4019 22.1284 20.0182ZM9.67203 26.1874C6.81019 26.1874 4.49021 28.5074 4.49021 31.3692C4.49021 34.2311 6.81019 36.551 9.67203 36.551C12.5339 36.551 14.8538 34.2311 14.8538 31.3692C14.8538 28.5074 12.5339 26.1874 9.67203 26.1874ZM6.12657 31.3692C6.12657 29.4111 7.71393 27.8238 9.67203 27.8238C11.6301 27.8238 13.2175 29.4111 13.2175 31.3692C13.2175 33.3273 11.6301 34.9147 9.67203 34.9147C7.71393 34.9147 6.12657 33.3273 6.12657 31.3692ZM4.83601 0H5.30839H14.0357H14.508L14.7442 0.409091L19.1079 7.96713L19.3441 8.37622L19.1079 8.78531L14.7442 16.3433L14.508 16.7524H14.0357H5.30839H4.83601L4.59983 16.3433L0.236189 8.78531L0 8.37622L0.236189 7.96713L4.59983 0.409091L4.83601 0ZM5.78077 1.63636L1.88951 8.37622L5.78077 15.1161H13.5633L17.4545 8.37622L13.5633 1.63636H5.78077ZM4.49021 8.09091C4.49021 5.22907 6.81019 2.90909 9.67203 2.90909C12.5339 2.90909 14.8538 5.22907 14.8538 8.09091C14.8538 10.9527 12.5339 13.2727 9.67203 13.2727C6.81019 13.2727 4.49021 10.9527 4.49021 8.09091ZM9.67203 4.54545C7.71393 4.54545 6.12657 6.13281 6.12657 8.09091C6.12657 10.049 7.71393 11.6364 9.67203 11.6364C11.6301 11.6364 13.2175 10.049 13.2175 8.09091C13.2175 6.13281 11.6301 4.54545 9.67203 4.54545ZM8.12657 8.09091C8.12657 7.23738 8.81849 6.54545 9.67203 6.54545C10.5256 6.54545 11.2175 7.23738 11.2175 8.09091C11.2175 8.94444 10.5256 9.63636 9.67203 9.63636C8.81849 9.63636 8.12657 8.94444 8.12657 8.09091ZM9.67203 8.18182C9.72224 8.18182 9.76294 8.14112 9.76294 8.09091C9.76294 8.0407 9.72224 8 9.67203 8C9.62182 8 9.58112 8.0407 9.58112 8.09091C9.58112 8.14112 9.62182 8.18182 9.67203 8.18182Z"
      fill={color}
    />
    <Path
      d="M18.3999 31.6537L19.1084 32.0628L19.3446 31.6537L19.1084 31.2447L18.3999 31.6537ZM14.0362 39.2118V40.03H14.5086L14.7448 39.6209L14.0362 39.2118ZM5.30895 39.2118L4.60038 39.6209L4.83657 40.03H5.30895V39.2118ZM0.945312 31.6537L0.236746 31.2447L0.000557482 31.6537L0.236746 32.0628L0.945312 31.6537ZM5.30895 24.0957V23.2775H4.83657L4.60038 23.6866L5.30895 24.0957ZM14.0362 24.0957L14.7448 23.6866L14.5086 23.2775H14.0362V24.0957ZM17.6913 31.2447L13.3277 38.8027L14.7448 39.6209L19.1084 32.0628L17.6913 31.2447ZM14.0362 38.3936H5.30895V40.03H14.0362V38.3936ZM6.01752 38.8027L1.65388 31.2447L0.236746 32.0628L4.60038 39.6209L6.01752 38.8027ZM1.65388 32.0628L6.01752 24.5048L4.60038 23.6866L0.236746 31.2447L1.65388 32.0628ZM5.30895 24.9139H14.0362V23.2775H5.30895V24.9139ZM13.3277 24.5048L17.6913 32.0628L19.1084 31.2447L14.7448 23.6866L13.3277 24.5048ZM9.67258 32.9139C10.5261 32.9139 11.218 32.222 11.218 31.3684H9.58167C9.58167 31.3182 9.62238 31.2775 9.67258 31.2775V32.9139ZM11.218 31.3684C11.218 30.5149 10.5261 29.823 9.67258 29.823V31.4593C9.62238 31.4593 9.58167 31.4186 9.58167 31.3684H11.218ZM9.67258 29.823C8.81905 29.823 8.12713 30.5149 8.12713 31.3684H9.76349C9.76349 31.4186 9.72279 31.4593 9.67258 31.4593V29.823ZM8.12713 31.3684C8.12713 32.222 8.81905 32.9139 9.67258 32.9139V31.2775C9.72279 31.2775 9.76349 31.3182 9.76349 31.3684H8.12713Z"
      fill={color}
    />
  </Svg>
);

function YetiOutputPorts({ device, isDisabled }: YetiOutputPortsProps) {
  return (
    <View>
      <Text style={[styles.title, isDisabled && styles.disabledText]}>Output Ports</Text>
      <PortStatusRow
        type="v12PortStatus"
        title="12V"
        icon={(isYeti300500700(device) ? V12 : V12Legacy) as React.FC<SvgProps>}
        device={device}
        isDisabled={isDisabled}
      />
      {isYeti20004000(device) || isYeti10001500(device) ? (
        <>
          <PortStatusRow type="acPortStatus" title="AC" icon={V120} device={device} isDisabled={isDisabled} />
          <PortStatusRow type="usbPortStatus" title="USB" icon={Usb} device={device} isDisabled={isDisabled} />
        </>
      ) : (
        <>
          <PortStatusRow type="usbPortStatus" title="USB" icon={Usb} device={device} isDisabled={isDisabled} />
          <PortStatusRow type="acPortStatus" title="AC" icon={V120} device={device} isDisabled={isDisabled} />
        </>
      )}
    </View>
  );
}

const styles = StyleSheet.create({
  title: {
    ...Fonts.font.base.caption,
    marginTop: Metrics.smallMargin,
    marginLeft: 6,
  },
  disabledText: {
    color: Colors.disabled,
  },
});

export default YetiOutputPorts;
